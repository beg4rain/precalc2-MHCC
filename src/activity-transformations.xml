<?xml version="1.0" encoding="UTF-8" ?>

<!--
## ********************************************************************* ##
## Copyright 2016                                                        ##
## Jack Green, Nick Chura                                                ##
##                                                                       ##
## This file is part of the Mount Hood Community College                 ##
## Precalculus Project                                                   ##
##                                                                       ##
## ********************************************************************* ##
-->

<chapter xml:id="activity-transformations" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Transformations</title>
  <section>
    <title>Review Material</title>
    <p>In this activity, you will review some basics from previous courses:
      <ul>
        <li><p>Vertical and Horizontal Translations</p></li>
        <li><p>Vertical Stretches and Compressions</p></li>
      </ul>
    </p>
    <p>In this first exercise, you will encounter your first of many <em>WeBWorK</em> problems. Click to open the <em>WeBWorK</em> environment, and you will see a graph which can be manipulated. Answer the questions that follow, and click to submit your responses.</p>
    <exercise>
      <webwork>
        <setup>
          <var name="$up">
            <set>
              <member>\text{?}</member>
              <member correct="yes">\text{It went up by 5 units.}</member>
              <member>\text{It went down by 5 units.}</member>
            </set>
          </var>
          <var name="$down">
            <set>
              <member>\text{?}</member>
              <member>\text{It went up by 3 units.}</member>
              <member correct="yes">\text{It went down by 3 units.}</member>
            </set>
          </var>
          <pg-code>
            $up=PopUp(
            ["?","It went up by 5 units.","It went down by 5 units."],"It went up by 5 units."
            );
            $down=PopUp(
            ["?","It went up by 3 units.","It went down by 3 units."],"It went down by 3 units."
            );
          </pg-code>
        </setup>
        <statement>
          <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/pXUT7wZS/width/431/height/313/border/888888" width="431px" height="313px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
          <p>The graph above shows the function <me>y = f(x) + k = x^2 + k</me> where <m>k</m> is a constant number.</p>
          <p>You can use the slider to change the value of <m>k</m>, and observe how the graph changes.</p>
          <p><ol label="a">
            <li><p>Change <m>k</m> so the function is <m>y = x^2 + 5</m>.</p>
            <p>How did this change the original graph?</p>
            <p>Answer: <var name="$up" form="popup" /></p></li>
            <li><p>Change <m>k</m> so the function is <m>y = x^2 - 3</m>.</p>
            <p>How did this change the original graph?</p>
            <p>Answer: <var name="$down" form="popup" /></p></li>
          </ol></p>
        </statement>
      </webwork>
    </exercise>
    <p>Next, recall how a graph changes when we either <em>add</em> or <em>subtract</em> from the <em>input</em> of the function.</p>
    <exercise>
      <webwork>
        <setup>
          <var name="$left4">
            <set>
              <member>\text{?}</member>
              <member>\text{right 4 units}</member>
              <member correct="yes">\text{left 4 units}</member>
            </set>
          </var>
          <var name="$right5down4">
            <set>
              <member>\text{?}</member>
              <member correct="yes">\text{right 5, and down 4}</member>
              <member>\text{right 5, and up 4}</member>
              <member>\text{left 5, and down 4}</member>
              <member>\text{left 5, and up 4}</member>
            </set>
          </var>
          <pg-code>
            $left4=PopUp(
            ["?","right 4 units","left 4 units"],"left 4 units"
            );
            $right5down4=PopUp(
            ["?","right 5, and down 4","right 5, and up 4","left 5, and down 4","left 5, and up 4"],"right 5, and down 4"
            );
          </pg-code>
        </setup>
        <statement>
          <p>The graph below shows the function <me>y = f(x + h) + k = (x + h)^2 + k</me> where <m>h</m> and <m>k</m> are constant numbers.</p>
          <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/qHkxbUVg/width/430/height/272/border/888888/sri/true" width="430px" height="272px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
          <p>You can use the sliders to change the values of <m>h</m> and <m>k</m>, and observe how the graph changes.</p>
          <p><ol label="a">
            <li><p>Change <m>h</m> so the function is <m>y = (x + 4)^2</m>.</p>
            <p>How did this change the original graph?</p>
            <p>Answer: The graph of <m>y = x^2</m> moved <var name="$left4" form="popup" /></p></li>
            <li><p>Change <m>h</m> and <m>k</m> so the function is <m>y = (x - 5)^2 - 4</m>.</p>
            <p>How did this change the original graph?</p>
            <p>Answer: The graph of <m>y = x^2</m> moved <var name="$right5down4" form="popup" /></p></li>
          </ol></p>
        </statement>
      </webwork>
    </exercise>
    <p>Finally, explore the effects of multiplying the <em>output</em> of a function by a constant number.</p>
    <exercise>
      <webwork>
        <setup>
          <var name="$stretched">
            <set>
              <member>\text{?}</member>
              <member correct="yes">\text{stretched}</member>
              <member>\text{compressed}</member>
            </set>
          </var>
          <var name="$compressed">
            <set>
              <member>\text{?}</member>
              <member>\text{stretched away from}</member>
              <member correct="yes">\text{compressed toward}</member>
            </set>
          </var>
          <var name="$xaxis">
            <set>
              <member>\text{?}</member>
              <member correct="yes">\text{x-axis}</member>
              <member>\text{y-axis}</member>
              <member>\text{line }y = x</member>
            </set>
          </var>
          <pg-code>
            $stretched=PopUp(
            ["?","stretched away from","compressed toward"],"stretched away from"
            );
            $compressed=PopUp(
            ["?","stretched away from","compressed toward"],"compressed toward"
            );
            $xaxis=PopUp(
            ["?","x-axis","y-axis","line y = x"],"x-axis"
            );
          </pg-code>
        </setup>
        <statement>
          <p>The graph below shows a function <m>y = af(x)</m>, where <m>a</m> is a constant number.</p>
          <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/aSr3RBYV/width/432/height/438/border/888888/sri/true" width="432px" height="438px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
          <p>Use the slider to change the value of the constant <m>a</m>, and observe changes to the graph.</p>
          <p>Notice that <m>a</m> is being multiplied to the <em>output</em> of the function <m>f</m>.</p>
          <p><ol label="a">
            <li><p>Change <m>a</m> to a number greater than <m>1</m>. What happened to the graph?</p>
            <p>Answer: The graph of <m>f</m> was vertically <var name="$stretched" form="popup" /> the <m>x</m><ndash /> axis.</p></li>
            <li><p>Change <m>a</m> to a number between <m>0</m> and <m>1</m>. What happened to the graph?</p>
            <p>Answer: The graph of <m>f</m> was vertically <var name="$compressed" form="popup" /> <m>x</m><ndash /> axis.</p></li>
          </ol></p>
          <p>Next, the graph of a different function <m>y = af(x)</m> is shown.</p>
          <p>[@MODES(HTML=&gt;'&lt;iframe scrolling="no" src="https://www.geogebra.org/material/iframe/id/b2KYhMZS/width/433/height/518/border/888888/sri/true" width="433px" height="518px" style="border:0px;"&gt; &lt;/iframe&gt;', TeX =&gt;"A GeoGebra applet.");@]*</p>
          <p>This time, you can change <m>a</m> to positive or negative values.</p>
          <p><ol label="a">
            <li><p>Change <m>a</m> to the value <m>-2</m>. What happened to the graph?</p>
            <p>Answer: The graph of <m>f</m> was vertically <var name="$stretched" form="popup" /> by a factor of <m>2</m>, and it was reflected over the <var name="$xaxis" form="popup" />.</p></li>
          </ol></p>

        </statement>
        <hint>

        </hint>
        <solution>

        </solution>
      </webwork>
    </exercise>
    <p>Questions you should be able to answer:
      <ol>
        <li><p>In general, how does the graph change when you <em>add</em> a number to the <em>output</em> of a function?</p></li>
        <li><p>In general, how does the graph change when you <em>subtract</em> a number from the <em>output</em> of a function?</p></li>
      </ol>
    </p>
    <p>Practice using these ideas in the next two exercises.</p>
    <exercise>
      <webwork>
        <setup>
          <var name="$grans1">
            <static>(x-3)^2 + 4</static>
          </var>
          <var name="$grans2">
            <static>(x-1)^2 + 3</static>
          </var>
          <pg-code>
            $gr=init_graph(-3,-3,3,3,
            axes=>[0,0],
            grid=>[6,6],
            size=>[400,400]
            );
            add_functions($gr, "x**2 for x in &lt;-3,3&gt; using color:red and weight:2");
            @shift=map{$_+1}NchooseK(4,4);
            $gr1=init_graph(-1,-1,6,6,
            axes=>[0,0],
            grid=>[7,7],
            size=>[400,400]
            );
            add_functions($gr1, "(x-$shift[0])**2+$shift[1] for x in &lt;-1,6&gt; using color:blue and weight:2");
            $gr2=init_graph(-1,-1,6,6,
            axes=>[0,0],
            grid=>[7,7],
            size=>[400,400]
            );
            add_functions($gr2, "(x-$shift[2])**2+$shift[3] for x in &lt;-1,6&gt; using color:blue and weight:2");
            $grans1=Compute("(x-$shift[0])**2+$shift[1]");
            $grans2=Compute("(x-$shift[2])**2+$shift[3]");
          </pg-code>
        </setup>
        <statement>
          <figure>
            <image pg-name="$gr" />
          </figure>
          <p>The graph above shows <m>f(x) = x^2</m>.</p>
          <p>The next two graphs below are transformations of <m>f</m>. Determine how <m>f</m> was transformed, and write the formula for each graph.</p>
          <figure>
            <image pg-name="$gr1" />
          </figure>
          <p>The formula is:  <m>y = </m><var name="$grans1" width="15" /></p>
          <figure>
            <image pg-name="$gr2" />
          </figure>
          <p>The formula is:  <m>y = </m><var name="$grans2" width="15" /></p>
        </statement>
        <hint>
          <p>Remember that the inside change involves a horizontal shift, and an outside change involves a vertical shift.</p>
        </hint>
        <solution>
          <p><ol>
            <li><p>The first graph is: <me>y = <var name="$grans1" /></me></p></li>
            <li><p>The second graph is: <me>y = <var name="$grans2" /></me></p></li>
          </ol></p>
        </solution>
      </webwork>
    </exercise>
    <exercise>
      <webwork>
        <setup>

          <pg-code>
            @shift=map{$_+1}NchooseK(2,2);
            for my $i(0..4){$gr[$i] = init_graph(-5,-5,5,5,axes=>[0,0],grid=>[10,10],size=>[200,200]);};
            foreach my $j(1..4){$gr[$j] -> lb(new Label ( -3.75,3.2,$j,'red','left','bottom'));};
            foreach my $k(1..4){$gr[$k] -> lb(new Label ( -4.5,4,'Graph','red','left','bottom'));};
            add_functions($gr[0], "x*(x-1)*(x-2)+1 for x in &lt;-5,5> using color:red and weight:2");
            add_functions($gr[1], "(x-$shift[0])*(x-$shift[0]-1)*(x-$shift[0]-2)+1-$shift[1] for x in &lt;-5,5> using color:blue and weight:2");
            add_functions($gr[2], "(x-$shift[0])*(x-$shift[0]-1)*(x-$shift[0]-2)+1+$shift[1] for x in &lt;-5,5> using color:blue and weight:2");
            add_functions($gr[3], "(x+$shift[0])*(x+$shift[0]-1)*(x+$shift[0]-2)+1+$shift[1] for x in &lt;-5,5> using color:blue and weight:2");
            add_functions($gr[4], "(x+$shift[0])*(x+$shift[0]-1)*(x+$shift[0]-2)+1-$shift[1] for x in &lt;-5,5> using color:blue and weight:2");
            $ans=PopUp(
            ["?","Graph 1","Graph 2","Graph 3","Graph 4"],"?"
            );
          </pg-code>
        </setup>
        <statement>
          <p>The function <m>y = f(x)</m> is shown below.</p>
          <figure><image pg-name="$gr[0]" width="200" height="200" tex_size="200"/></figure>
          <p>Which of the following graphs shows <m>y = f(x + </m><var name="$shift[0]" /><m>) + </m><var name="$shift[1]" />?</p>
          <figure><image pg-name="$gr[1]" width="200" height="200" tex_size="200"/></figure>
          <figure><image pg-name="$gr[2]" width="200" height="200" tex_size="200"/></figure>
          <figure><image pg-name="$gr[3]" width="200" height="200" tex_size="200"/></figure>
          <figure><image pg-name="$gr[4]" width="200" height="200" tex_size="200"/></figure>
          <p>Answer:  <var name="$ans" form="popup" /></p>
        </statement>
        <hint>

        </hint>
        <solution>

        </solution>
      </webwork>
    </exercise>
  </section>

</chapter>

<!--
<exercise>
            <title>Solve using a graph</title>

            <webwork>

                <setup>
                    <var name="$answer" category="number">
                        <static>3</static>
                    </var>
                    <var name="$second_x" category="number">
                        <static>3.8</static>
                    </var>

                    <pg-code>
                        $answer = random(1,3,1);
                        $gr = init_graph(-1,-1,4,4,
                        axes=>[0,0],
                        grid=>[5,5],
                        size=>[400,400]
                        );
                        add_functions($gr, "x^3/$answer^3 for x in &lt;-1,4&gt; using color:blue and weight:2");
                        $second_x = Real($answer*2**(1/3));

                        $solgr = init_graph(-1,-1,4,4,
                        axes=>[0,0],
                        grid=>[5,5],
                        size=>[400,400]
                        );
                        add_functions($solgr, "x^3/$answer^3 for x in &lt;-1,4&gt; using color:blue and weight:2");
                        $solgr->moveTo(0,1);
                        $solgr->lineTo($answer,1,'black',3);
                        $solgr->arrowTo($answer,0,'black',3);

                    </pg-code>
                </setup>

                <statement>
                    <p>The graph below is a graph of <m>y=f(x)</m>. Use the graph to solve the equation <m>f(x)=1</m>.</p>

                    <figure>
                        <image pg-name="$gr">
                            <description>a plot of a curve on a cartesian set of axes; the x axis ranges from -1 to 4, and the y-axis ranges from -1 to 4; the curve enters from the left, below the x-axis, and curves upward and to the right until it reaches the point (0,0); from here it continues predominantly rightward for a bit, bending slightly upward more and more as it progresses; it passes through the points (<var name="$answer"/>,1) and (<var name="$second_x"/>,2) before leaving the graph moving more and more upward and to the right.</description>
                        </image>
                    </figure>

                    <p><m>x=</m> <var name="$answer" width="5"/></p>
                </statement>

                <solution>

                    <p>The graph reveals that the only solution to <m>f(x)=1</m> is <m>x=<var name="$answer"/></m>.</p>

                    <figure>
                        <image pg-name="$solgr">
                            <description>a plot of a curve on a cartesian set of axes; the x axis ranges from -1 to 4, and the y-axis ranges from -1 to 4; the curve enters from the left, below the x-axis, and curves upward and to the right until it reaches the point (0,0); from here it continues predominantly rightward for a bit, bending slightly upward more and more as it progresses; it passes through the points ($answer,1) and ($second_x,2) before leaving the graph moving more and more upward and to the right; a horizontal line segment moves rightward from y=1 on the y-axis until it reaches a point on the curve; a vertical line segment moves down from this point to x=$answer on the x-axis.</description>
                        </image>
                    </figure>

                </solution>

            </webwork>
        </exercise>
-->
